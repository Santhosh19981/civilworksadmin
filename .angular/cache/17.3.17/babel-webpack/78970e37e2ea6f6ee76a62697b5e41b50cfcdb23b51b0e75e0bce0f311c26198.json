{"ast":null,"code":"import { ActivatedRoute, Router } from '@angular/router';\nimport { CoreService } from '../../services/core.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/core.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ProductFormComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"div\", 29);\n    i0.ɵɵtext(2, \"\\uD83D\\uDCF8\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 30);\n    i0.ɵɵtext(4, \"Upload Image\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 31);\n    i0.ɵɵtext(6, \"SVG, PNG, JPG (MAX 2MB)\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductFormComponent_img_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 32);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", ctx_r0.imagePreview, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ProductFormComponent_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function ProductFormComponent_button_11_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.imagePreview = \"\");\n    });\n    i0.ɵɵtext(1, \"Remove Image\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductFormComponent_option_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 34);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cat_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", cat_r3.name);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(cat_r3.name);\n  }\n}\nexport let ProductFormComponent = /*#__PURE__*/(() => {\n  class ProductFormComponent {\n    route;\n    router;\n    core;\n    isEdit = false;\n    product = {\n      name: '',\n      category: '',\n      price: 0,\n      stock: 0,\n      description: '',\n      status: 'active',\n      image: ''\n    };\n    categories$;\n    imagePreview = '';\n    constructor(route, router, core) {\n      this.route = route;\n      this.router = router;\n      this.core = core;\n      this.categories$ = this.core.getData('categories');\n    }\n    ngOnInit() {\n      const id = this.route.snapshot.params['id'];\n      if (id) {\n        this.isEdit = true;\n        this.core.getData('products').subscribe(products => {\n          const found = products.find(p => p.id == id);\n          if (found) {\n            this.product = {\n              ...found\n            };\n            this.imagePreview = this.product.image;\n          }\n        });\n      }\n    }\n    onFileChange(event) {\n      const file = event.target.files[0];\n      if (file) {\n        const reader = new FileReader();\n        reader.onload = e => {\n          this.imagePreview = e.target.result;\n          this.product.image = this.imagePreview; // In real app, we'd upload this\n        };\n        reader.readAsDataURL(file);\n      }\n    }\n    onSubmit() {\n      if (this.isEdit) {\n        this.core.updateItem('products', this.product.id, this.product);\n      } else {\n        this.core.addItem('products', this.product);\n      }\n      this.router.navigate(['/products']);\n    }\n    static ɵfac = function ProductFormComponent_Factory(t) {\n      return new (t || ProductFormComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.CoreService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProductFormComponent,\n      selectors: [[\"app-product-form\"]],\n      decls: 48,\n      vars: 15,\n      consts: [[1, \"max-w-4xl\", \"mx-auto\", \"space-y-6\"], [1, \"flex\", \"items-center\", \"gap-4\"], [\"routerLink\", \"/products\", 1, \"p-2\", \"hover:bg-white\", \"rounded-xl\", \"transition-all\", \"shadow-sm\"], [1, \"text-2xl\", \"font-bold\", \"text-navy\"], [1, \"grid\", \"grid-cols-1\", \"lg:grid-cols-3\", \"gap-8\"], [1, \"lg:col-span-1\", \"border-2\", \"border-dashed\", \"border-gray-200\", \"rounded-3xl\", \"p-8\", \"flex\", \"flex-col\", \"items-center\", \"justify-center\", \"bg-white\", \"shadow-soft\", \"transition-all\", \"hover:border-primary\", \"group\"], [\"class\", \"text-center\", 4, \"ngIf\"], [\"class\", \"w-full aspect-square object-cover rounded-2xl shadow-lg\", 3, \"src\", 4, \"ngIf\"], [\"type\", \"file\", 1, \"absolute\", \"inset-0\", \"opacity-0\", \"cursor-pointer\", 3, \"change\"], [\"class\", \"mt-4 text-xs font-bold text-red-500 hover:text-red-700\", 3, \"click\", 4, \"ngIf\"], [1, \"lg:col-span-2\", \"card\"], [1, \"space-y-6\", 3, \"ngSubmit\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"gap-6\"], [1, \"block\", \"text-sm\", \"font-semibold\", \"text-navy\", \"mb-2\"], [\"type\", \"text\", \"name\", \"name\", \"required\", \"\", 1, \"w-full\", \"px-4\", \"py-3\", \"border\", \"border-gray-200\", \"rounded-xl\", \"focus:ring-2\", \"focus:ring-primary\", \"outline-none\", \"transition-all\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"category\", \"required\", \"\", 1, \"w-full\", \"px-4\", \"py-3\", \"border\", \"border-gray-200\", \"rounded-xl\", \"focus:ring-2\", \"focus:ring-primary\", \"outline-none\", \"transition-all\", 3, \"ngModelChange\", \"ngModel\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"number\", \"name\", \"price\", \"required\", \"\", 1, \"w-full\", \"px-4\", \"py-3\", \"border\", \"border-gray-200\", \"rounded-xl\", \"focus:ring-2\", \"focus:ring-primary\", \"outline-none\", \"transition-all\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", \"name\", \"stock\", \"required\", \"\", 1, \"w-full\", \"px-4\", \"py-3\", \"border\", \"border-gray-200\", \"rounded-xl\", \"focus:ring-2\", \"focus:ring-primary\", \"outline-none\", \"transition-all\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"description\", \"rows\", \"4\", \"placeholder\", \"Detailed overview of the product...\", 1, \"w-full\", \"px-4\", \"py-3\", \"border\", \"border-gray-200\", \"rounded-xl\", \"focus:ring-2\", \"focus:ring-primary\", \"outline-none\", \"transition-all\", 3, \"ngModelChange\", \"ngModel\"], [1, \"flex\", \"items-center\", \"gap-3\", \"py-4\"], [1, \"relative\", \"inline-flex\", \"items-center\", \"cursor-pointer\"], [\"type\", \"checkbox\", \"name\", \"status\", 1, \"sr-only\", \"peer\", 3, \"ngModelChange\", \"ngModel\", \"checked\"], [1, \"w-11\", \"h-6\", \"bg-gray-200\", \"peer-focus:outline-none\", \"ring-4\", \"ring-primary/20\", \"rounded-full\", \"peer\", \"peer-checked:after:translate-x-full\", \"peer-checked:after:border-white\", \"after:content-['']\", \"after:absolute\", \"after:top-[2px]\", \"after:left-[2px]\", \"after:bg-white\", \"after:border-gray-300\", \"after:border\", \"after:rounded-full\", \"after:h-5\", \"after:w-5\", \"after:transition-all\", \"peer-checked:bg-primary\"], [1, \"text-sm\", \"font-bold\", \"text-navy\"], [1, \"flex\", \"items-center\", \"gap-4\", \"pt-4\"], [\"type\", \"button\", \"routerLink\", \"/products\", 1, \"flex-1\", \"px-8\", \"py-4\", \"border-2\", \"border-gray-100\", \"rounded-xl\", \"font-bold\", \"text-gray-500\", \"hover:bg-gray-50\", \"transition-all\"], [\"type\", \"submit\", 1, \"flex-1\", \"px-8\", \"py-4\", \"bg-primary\", \"text-white\", \"rounded-xl\", \"font-bold\", \"shadow-lg\", \"shadow-primary/30\", \"transition-all\", \"hover:scale-[1.02]\", \"active:scale-[0.98]\"], [1, \"text-center\"], [1, \"text-4xl\", \"mb-4\", \"group-hover:scale-110\", \"transition-transform\"], [1, \"text-sm\", \"font-semibold\", \"text-navy\"], [1, \"text-xs\", \"text-gray-400\", \"mt-1\"], [1, \"w-full\", \"aspect-square\", \"object-cover\", \"rounded-2xl\", \"shadow-lg\", 3, \"src\"], [1, \"mt-4\", \"text-xs\", \"font-bold\", \"text-red-500\", \"hover:text-red-700\", 3, \"click\"], [3, \"value\"]],\n      template: function ProductFormComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"a\", 2);\n          i0.ɵɵtext(3, \"\\u2B05\\uFE0F\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"h2\", 3);\n          i0.ɵɵtext(5);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"div\", 4)(7, \"div\", 5);\n          i0.ɵɵtemplate(8, ProductFormComponent_div_8_Template, 7, 0, \"div\", 6)(9, ProductFormComponent_img_9_Template, 1, 1, \"img\", 7);\n          i0.ɵɵelementStart(10, \"input\", 8);\n          i0.ɵɵlistener(\"change\", function ProductFormComponent_Template_input_change_10_listener($event) {\n            return ctx.onFileChange($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(11, ProductFormComponent_button_11_Template, 2, 0, \"button\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"div\", 10)(13, \"form\", 11);\n          i0.ɵɵlistener(\"ngSubmit\", function ProductFormComponent_Template_form_ngSubmit_13_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(14, \"div\", 12)(15, \"div\")(16, \"label\", 13);\n          i0.ɵɵtext(17, \"Product Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"input\", 14);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductFormComponent_Template_input_ngModelChange_18_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.product.name, $event) || (ctx.product.name = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(19, \"div\")(20, \"label\", 13);\n          i0.ɵɵtext(21, \"Category\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"select\", 15);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductFormComponent_Template_select_ngModelChange_22_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.product.category, $event) || (ctx.product.category = $event);\n            return $event;\n          });\n          i0.ɵɵtemplate(23, ProductFormComponent_option_23_Template, 2, 2, \"option\", 16);\n          i0.ɵɵpipe(24, \"async\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(25, \"div\")(26, \"label\", 13);\n          i0.ɵɵtext(27, \"Price ($)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(28, \"input\", 17);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductFormComponent_Template_input_ngModelChange_28_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.product.price, $event) || (ctx.product.price = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(29, \"div\")(30, \"label\", 13);\n          i0.ɵɵtext(31, \"Stock Level\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(32, \"input\", 18);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductFormComponent_Template_input_ngModelChange_32_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.product.stock, $event) || (ctx.product.stock = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(33, \"div\")(34, \"label\", 13);\n          i0.ɵɵtext(35, \"Description\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(36, \"textarea\", 19);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductFormComponent_Template_textarea_ngModelChange_36_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.product.description, $event) || (ctx.product.description = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(37, \"div\", 20)(38, \"label\", 21)(39, \"input\", 22);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductFormComponent_Template_input_ngModelChange_39_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.product.status, $event) || (ctx.product.status = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(40, \"div\", 23);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(41, \"span\", 24);\n          i0.ɵɵtext(42, \"Set Product as Active\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(43, \"div\", 25)(44, \"button\", 26);\n          i0.ɵɵtext(45, \"Cancel\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(46, \"button\", 27);\n          i0.ɵɵtext(47);\n          i0.ɵɵelementEnd()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate(ctx.isEdit ? \"Edit Product\" : \"Add New Product\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", !ctx.imagePreview);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.imagePreview);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.imagePreview);\n          i0.ɵɵadvance(7);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.name);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.category);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(24, 13, ctx.categories$));\n          i0.ɵɵadvance(5);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.price);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.stock);\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.description);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.product.status);\n          i0.ɵɵproperty(\"checked\", ctx.product.status === \"active\");\n          i0.ɵɵadvance(8);\n          i0.ɵɵtextInterpolate1(\" \", ctx.isEdit ? \"Update Product\" : \"Create Product\", \" \");\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.CheckboxControlValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm, i1.RouterLink, i3.AsyncPipe],\n      styles: [\"[_nghost-%COMP%]{display:block}\"]\n    });\n  }\n  return ProductFormComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
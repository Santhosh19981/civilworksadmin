{"ast":null,"code":"import { CoreService } from '../../services/core.service';\nimport { combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/core.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/router\";\nconst _c0 = a0 => [\"edit\", a0];\nfunction ProductListComponent_button_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_button_17_Template_button_click_0_listener() {\n      const cat_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.selectedCategory = cat_r2.name);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cat_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(ctx_r2.selectedCategory === cat_r2.name ? \"bg-navy text-white\" : \"bg-white text-navy\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", cat_r2.name, \" \");\n  }\n}\nfunction ProductListComponent_tr_39_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 37);\n    i0.ɵɵtext(1, \"Low Stock\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductListComponent_tr_39_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 23)(1, \"td\", 24)(2, \"div\", 25);\n    i0.ɵɵelement(3, \"img\", 26);\n    i0.ɵɵelementStart(4, \"span\", 27);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"td\", 24)(7, \"span\", 28);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"td\", 29);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\", 24)(12, \"div\", 30)(13, \"span\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, ProductListComponent_tr_39_span_15_Template, 2, 0, \"span\", 31);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"td\", 24)(17, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_tr_39_Template_button_click_17_listener() {\n      const product_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.toggleStatus(product_r5));\n    });\n    i0.ɵɵtext(18);\n    i0.ɵɵpipe(19, \"uppercase\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"td\", 33)(21, \"div\", 34)(22, \"a\", 35);\n    i0.ɵɵtext(23, \"\\u270F\\uFE0F\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_tr_39_Template_button_click_24_listener() {\n      const product_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteProduct(product_r5.id));\n    });\n    i0.ɵɵtext(25, \"\\uD83D\\uDDD1\\uFE0F\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const product_r5 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", product_r5.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r5.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r5.category);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", product_r5.price, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMap(product_r5.stock < 5 ? \"text-red-500 font-bold animate-pulse\" : \"text-navy font-semibold\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", product_r5.stock, \" units\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", product_r5.stock < 5);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(product_r5.status === \"active\" ? \"bg-green-100 text-green-600 border-green-200\" : \"bg-gray-100 text-gray-500 border-gray-200\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(19, 12, product_r5.status), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(14, _c0, product_r5.id));\n  }\n}\nfunction ProductListComponent_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38)(1, \"div\", 39);\n    i0.ɵɵtext(2, \"\\uD83D\\uDCE6\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"h3\", 40);\n    i0.ɵɵtext(4, \"No products found\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 41);\n    i0.ɵɵtext(6, \"Try adjusting your search or filters\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let ProductListComponent = /*#__PURE__*/(() => {\n  class ProductListComponent {\n    core;\n    products$;\n    categories$;\n    searchTerm = '';\n    selectedCategory = '';\n    filteredProducts$;\n    constructor(core) {\n      this.core = core;\n      this.products$ = this.core.getData('products');\n      this.categories$ = this.core.getData('categories');\n      // Logic for filtering\n      this.filteredProducts$ = combineLatest([this.products$, this.categories$]).pipe(map(([products]) => {\n        return products.filter(p => {\n          const matchesSearch = p.name.toLowerCase().includes(this.searchTerm.toLowerCase());\n          const matchesCategory = !this.selectedCategory || p.category === this.selectedCategory;\n          return matchesSearch && matchesCategory;\n        });\n      }));\n    }\n    ngOnInit() {}\n    toggleStatus(product) {\n      const newStatus = product.status === 'active' ? 'inactive' : 'active';\n      this.core.updateItem('products', product.id, {\n        status: newStatus\n      });\n    }\n    deleteProduct(id) {\n      if (confirm('Are you sure you want to delete this product?')) {\n        this.core.deleteItem('products', id);\n      }\n    }\n    static ɵfac = function ProductListComponent_Factory(t) {\n      return new (t || ProductListComponent)(i0.ɵɵdirectiveInject(i1.CoreService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProductListComponent,\n      selectors: [[\"app-product-list\"]],\n      decls: 43,\n      vars: 12,\n      consts: [[1, \"space-y-6\"], [1, \"flex\", \"flex-col\", \"md:flex-row\", \"md:items-center\", \"justify-between\", \"gap-4\"], [1, \"text-2xl\", \"font-bold\", \"text-navy\"], [1, \"text-gray-500\"], [1, \"flex\", \"flex-wrap\", \"items-center\", \"gap-3\"], [1, \"relative\"], [\"type\", \"text\", \"placeholder\", \"Search products...\", 1, \"pl-10\", \"pr-4\", \"py-2\", \"bg-white\", \"border\", \"border-gray-200\", \"rounded-xl\", \"focus:ring-2\", \"focus:ring-primary\", \"outline-none\", \"transition-all\", \"w-full\", \"md:w-64\", \"shadow-soft\", 3, \"ngModelChange\", \"ngModel\"], [1, \"absolute\", \"left-3\", \"top-2.5\", \"text-gray-400\"], [\"routerLink\", \"add\", 1, \"btn-primary\", \"flex\", \"items-center\", \"gap-2\"], [1, \"text-xl\"], [1, \"flex\", \"flex-wrap\", \"items-center\", \"gap-4\"], [\"class\", \"px-4 py-2 rounded-xl text-sm font-semibold shadow-soft transition-all hover:scale-105 active:scale-95\", 3, \"class\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"px-4\", \"py-2\", \"rounded-xl\", \"text-sm\", \"font-semibold\", \"shadow-soft\", 3, \"click\"], [1, \"card\", \"overflow-hidden\", \"!p-0\"], [1, \"overflow-x-auto\"], [1, \"w-full\", \"text-left\", \"border-collapse\"], [1, \"bg-lightgray\"], [1, \"px-6\", \"py-4\", \"text-xs\", \"font-bold\", \"text-gray-500\", \"uppercase\", \"tracking-wider\"], [1, \"px-6\", \"py-4\", \"text-xs\", \"font-bold\", \"text-gray-500\", \"uppercase\", \"tracking-wider\", \"text-right\"], [1, \"divide-y\", \"divide-gray-100\"], [\"class\", \"hover:bg-gray-50 group\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"p-12 text-center\", 4, \"ngIf\"], [1, \"px-4\", \"py-2\", \"rounded-xl\", \"text-sm\", \"font-semibold\", \"shadow-soft\", \"transition-all\", \"hover:scale-105\", \"active:scale-95\", 3, \"click\"], [1, \"hover:bg-gray-50\", \"group\"], [1, \"px-6\", \"py-4\"], [1, \"flex\", \"items-center\", \"gap-4\"], [1, \"w-12\", \"h-12\", \"rounded-xl\", \"object-cover\", \"shadow-sm\", \"bg-gray-100\", 3, \"src\"], [1, \"font-bold\", \"text-navy\"], [1, \"px-3\", \"py-1\", \"bg-navy/5\", \"text-navy\", \"rounded-lg\", \"text-xs\", \"font-medium\"], [1, \"px-6\", \"py-4\", \"font-mono\", \"font-bold\", \"text-orange-600\"], [1, \"flex\", \"flex-col\", \"gap-1\"], [\"class\", \"text-[10px] bg-red-100 text-red-600 px-1.5 py-0.5 rounded w-fit uppercase font-bold\", 4, \"ngIf\"], [1, \"px-4\", \"py-1.5\", \"rounded-full\", \"text-xs\", \"font-bold\", \"border\", \"transition-all\", \"hover:scale-105\", 3, \"click\"], [1, \"px-6\", \"py-4\", \"text-right\"], [1, \"flex\", \"items-center\", \"justify-end\", \"gap-2\", \"opacity-0\", \"group-hover:opacity-100\", \"transition-opacity\"], [1, \"p-2\", \"hover:bg-navy/5\", \"rounded-lg\", \"text-navy\", 3, \"routerLink\"], [1, \"p-2\", \"hover:bg-red-50\", \"rounded-lg\", \"text-red-500\", 3, \"click\"], [1, \"text-[10px]\", \"bg-red-100\", \"text-red-600\", \"px-1.5\", \"py-0.5\", \"rounded\", \"w-fit\", \"uppercase\", \"font-bold\"], [1, \"p-12\", \"text-center\"], [1, \"text-6xl\", \"mb-4\", \"opacity-20\"], [1, \"text-xl\", \"font-bold\", \"text-navy\"], [1, \"text-gray-400\"]],\n      template: function ProductListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\")(3, \"h2\", 2);\n          i0.ɵɵtext(4, \"Product Inventory\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"p\", 3);\n          i0.ɵɵtext(6, \"Manage your materials and equipment stock\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(7, \"div\", 4)(8, \"div\", 5)(9, \"input\", 6);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductListComponent_Template_input_ngModelChange_9_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.searchTerm, $event) || (ctx.searchTerm = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"span\", 7);\n          i0.ɵɵtext(11, \"\\uD83D\\uDD0D\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(12, \"a\", 8)(13, \"span\", 9);\n          i0.ɵɵtext(14, \"+\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(15, \" New Product \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(16, \"div\", 10);\n          i0.ɵɵtemplate(17, ProductListComponent_button_17_Template, 2, 3, \"button\", 11);\n          i0.ɵɵpipe(18, \"async\");\n          i0.ɵɵelementStart(19, \"button\", 12);\n          i0.ɵɵlistener(\"click\", function ProductListComponent_Template_button_click_19_listener() {\n            return ctx.selectedCategory = \"\";\n          });\n          i0.ɵɵtext(20, \"All\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(21, \"div\", 13)(22, \"div\", 14)(23, \"table\", 15)(24, \"thead\", 16)(25, \"tr\")(26, \"th\", 17);\n          i0.ɵɵtext(27, \"Product\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(28, \"th\", 17);\n          i0.ɵɵtext(29, \"Category\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"th\", 17);\n          i0.ɵɵtext(31, \"Price\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(32, \"th\", 17);\n          i0.ɵɵtext(33, \"Stock\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(34, \"th\", 17);\n          i0.ɵɵtext(35, \"Status\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(36, \"th\", 18);\n          i0.ɵɵtext(37, \" Actions\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(38, \"tbody\", 19);\n          i0.ɵɵtemplate(39, ProductListComponent_tr_39_Template, 26, 16, \"tr\", 20);\n          i0.ɵɵpipe(40, \"async\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(41, ProductListComponent_div_41_Template, 7, 0, \"div\", 21);\n          i0.ɵɵpipe(42, \"async\");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          let tmp_4_0;\n          i0.ɵɵadvance(9);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.searchTerm);\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(18, 6, ctx.categories$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵclassMap(ctx.selectedCategory === \"\" ? \"bg-navy text-white\" : \"bg-white text-navy\");\n          i0.ɵɵadvance(20);\n          i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(40, 8, ctx.filteredProducts$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = i0.ɵɵpipeBind1(42, 10, ctx.filteredProducts$)) == null ? null : tmp_4_0.length) === 0);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.RouterLink, i2.AsyncPipe, i2.UpperCasePipe],\n      styles: [\"[_nghost-%COMP%]{display:block}\"]\n    });\n  }\n  return ProductListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
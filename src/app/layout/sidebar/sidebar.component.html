<aside [class.w-72]="!collapsed" [class.w-20]="collapsed"
    class="sidebar-container h-full transition-all duration-500 ease-in-out flex flex-col shadow-2xl z-30 relative overflow-hidden">

    <!-- Design Overlay -->
    <div class="absolute inset-0 opacity-10 pointer-events-none"
        style="background-image: radial-gradient(var(--gold) 0.5px, transparent 0.5px); background-size: 20px 20px;">
    </div>

    <!-- Logo Section -->
    <div class="h-24 flex items-center px-6 relative border-b border-white/5 overflow-hidden">
        <div class="flex items-center gap-4 group cursor-pointer" routerLink="/dashboard">
            <div class="relative w-12 h-12 flex items-center justify-center">
                <div class="absolute inset-0 border border-gold/30 rounded-full animate-spin-slow"></div>
                <div class="absolute inset-2 border border-gold/20 rounded-full animate-spin-reverse-slow"></div>
                <img src="assets/logo.jpeg" alt="BP"
                    class="w-10 h-10 rounded-full object-cover border-2 border-gold shadow-lg relative z-10 group-hover:scale-110 transition-transform">
            </div>
            <div class="flex flex-col" *ngIf="!collapsed">
                <span class="text-lg font-black text-white tracking-widest uppercase">BUILDPRO</span>
                <span class="text-[9px] font-black text-gold uppercase tracking-[0.2em] -mt-1">Management</span>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="flex-1 overflow-y-auto py-8 px-4 space-y-3 custom-scrollbar relative z-10">
        <a *ngFor="let item of menuItems" [routerLink]="item.path" routerLinkActive="active-item"
            class="nav-item group flex items-center gap-4 px-4 py-3.5 rounded-xl transition-all duration-300 hover:bg-white/5"
            [title]="collapsed ? item.label : ''">

            <div class="icon-box relative flex items-center justify-center w-6 h-6">
                <svg xmlns="http://www.w3.org/2000/svg"
                    class="w-6 h-6 transition-transform duration-300 group-hover:scale-110" fill="none"
                    viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" [attr.d]="item.d" />
                </svg>
            </div>

            <span *ngIf="!collapsed"
                class="font-bold text-sm tracking-wide text-gray-400 group-hover:text-white transition-colors duration-300">
                {{item.label}}
            </span>

            <!-- Active Indicator Dot -->
            <div
                class="active-dot absolute left-0 w-1 h-6 bg-gold rounded-r-full opacity-0 -translate-x-1 transition-all">
            </div>
        </a>
    </nav>

    <!-- Footer Profile/Logout -->
    <div class="p-6 border-t border-white/5 relative z-10">
        <button (click)="onLogout()"
            class="logout-btn group flex items-center gap-4 w-full px-4 py-3.5 rounded-xl bg-red-500/5 hover:bg-red-500/20 text-red-500 transition-all duration-300">
            <div class="w-6 h-6 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                </svg>
            </div>
            <span *ngIf="!collapsed" class="font-black text-xs uppercase tracking-widest">Sign Out Portal</span>
        </button>
    </div>
</aside>
"use strict";(self.webpackChunkcivilworksadmin=self.webpackChunkcivilworksadmin||[]).push([[802],{5802:(m,d,a)=>{a.r(d),a.d(d,{PaymentsModule:()=>v});var s=a(177),t=a(4438),l=a(6845);const c=(n,i,e,r)=>({"bg-green-500 text-white shadow-green-200":n,"bg-yellow-500 text-white shadow-yellow-200":i,"bg-red-500 text-white shadow-red-200":e,"bg-gray-500 text-white shadow-gray-200":r});function p(n,i){if(1&n){const e=t.RV6();t.j41(0,"tr",44)(1,"td",45)(2,"div",46)(3,"span",47),t.EFF(4),t.k0s(),t.j41(5,"span",31),t.EFF(6),t.k0s()()(),t.j41(7,"td",45)(8,"span",48),t.EFF(9),t.k0s()(),t.j41(10,"td",45)(11,"span",49),t.EFF(12),t.k0s()(),t.j41(13,"td",45)(14,"span",50),t.EFF(15),t.k0s()(),t.j41(16,"td",41)(17,"button",51),t.bIt("click",function(){const o=t.eBV(e).$implicit,b=t.XpG();return t.Njj(b.issueRefund(o))}),t.EFF(18," Reversal "),t.k0s()()()}if(2&n){const e=i.$implicit;t.R7$(4),t.SpI("TXN_",e.transactionId.slice(-8),""),t.R7$(2),t.SpI("Order #",e.orderId,""),t.R7$(3),t.JRh(e.customer),t.R7$(3),t.SpI("$",e.amount,""),t.R7$(2),t.Y8G("ngClass",t.ziG(6,c,"Paid"===e.status,"Pending"===e.status,"Failed"===e.status,"Refunded"===e.status)),t.R7$(),t.SpI(" ",e.status," ")}}let g=(()=>{class n{core;payments$;totalRevenue=0;onlinePayments=0;codPayments=0;constructor(e){this.core=e,this.payments$=this.core.getData("payments")}ngOnInit(){this.payments$.subscribe(e=>{this.totalRevenue=e.filter(r=>"Paid"===r.status).reduce((r,o)=>r+o.amount,0),this.onlinePayments=e.filter(r=>"Online"===r.method&&"Paid"===r.status).reduce((r,o)=>r+o.amount,0),this.codPayments=e.filter(r=>"COD"===r.method).reduce((r,o)=>r+o.amount,0)})}ngAfterViewInit(){new Chart("revenueTrendChart",{type:"line",data:{labels:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],datasets:[{label:"Revenue",data:[1200,1900,3e3,5e3,2e3,3e3,4500],borderColor:"#F7931E",backgroundColor:"rgba(247, 147, 30, 0.1)",fill:!0,tension:.4}]},options:{plugins:{legend:{display:!1}}}})}issueRefund(e){confirm("Issue full refund for Order #"+e.orderId+"?")&&this.core.updateItem("payments",e.transactionId,{status:"Refunded"})}static \u0275fac=function(r){return new(r||n)(t.rXU(l.P))};static \u0275cmp=t.VBU({type:n,selectors:[["app-payment-list"]],decls:72,vars:8,consts:[[1,"space-y-12","pb-12"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-8"],[1,"relative","group","p-8","bg-navy","rounded-[2.5rem]","shadow-2xl","shadow-navy/30","overflow-hidden"],[1,"absolute","-right-10","-top-10","w-32","h-32","bg-gold/10","rounded-full","blur-2xl","group-hover:bg-gold/20","transition-all","duration-500"],[1,"text-white/40","text-[10px]","font-black","uppercase","tracking-[0.2em]","relative","z-10"],[1,"text-4xl","font-black","text-white","mt-3","relative","z-10","tracking-tighter"],[1,"mt-6","flex","items-center","gap-2","relative","z-10"],[1,"px-2","py-1","bg-green-500/20","text-green-400","text-[9px]","font-black","rounded-lg","uppercase","tracking-widest"],[1,"relative","group","p-8","bg-white","rounded-[2.5rem]","border","border-gray-50","shadow-3xl","overflow-hidden"],[1,"absolute","-right-10","-top-10","w-32","h-32","bg-navy/5","rounded-full","blur-2xl"],[1,"text-navy/30","text-[10px]","font-black","uppercase","tracking-[0.2em]"],[1,"text-4xl","font-black","text-navy","mt-3","tracking-tighter"],[1,"text-[9px]","font-black","text-gray-300","uppercase","tracking-widest","mt-6"],[1,"w-full","bg-gray-50","h-2","rounded-full","mt-7","shadow-inner","overflow-hidden"],[1,"bg-gold","h-full","rounded-full","shadow-[0_0_15px_rgba(247,147,30,0.4)]"],[1,"relative","group","p-8","bg-white","rounded-[2.5rem]","border","border-gray-100","shadow-3xl","overflow-hidden","border-dashed"],[1,"text-red-500/40","text-[10px]","font-black","uppercase","tracking-[0.2em]"],[1,"text-4xl","font-black","text-red-500","mt-3","tracking-tighter"],[1,"text-[9px]","font-black","text-red-300","uppercase","tracking-widest","mt-6"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-10"],[1,"lg:col-span-1","p-10","bg-white","rounded-[3.5rem]","border","border-gray-50","shadow-3xl","relative","overflow-hidden","group"],[1,"absolute","-right-20","-top-20","w-48","h-48","bg-gold/5","rounded-full","blur-3xl"],[1,"text-xl","font-black","text-navy","mb-10","flex","items-center","gap-4"],[1,"w-12","h-12","rounded-2xl","bg-navy/5","flex","items-center","justify-center","text-navy","group-hover:bg-gold","group-hover:text-white","transition-all"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"],["id","revenueTrendChart",1,"max-h-[300px]"],[1,"lg:col-span-2","bg-white","rounded-[3.5rem]","border","border-gray-50","shadow-3xl","overflow-hidden","relative"],[1,"p-10","flex","items-center","justify-between","border-b","border-gray-50","bg-gray-50/30"],[1,"text-xl","font-black","text-navy","tracking-tight"],[1,"text-gold"],[1,"text-[9px]","font-black","text-gray-300","uppercase","tracking-widest","mt-1"],[1,"relative","group"],[1,"absolute","inset-y-0","left-0","pl-5","flex","items-center","pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4","text-gray-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","3","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Trace Transaction...",1,"pl-12","pr-6","py-4","bg-white","border","border-gray-100","rounded-2xl","text-[10px]","font-black","uppercase","tracking-widest","outline-none","shadow-xl","shadow-navy/5","focus:border-gold","transition-all","w-64"],[1,"overflow-x-auto"],[1,"w-full","text-left","border-collapse"],[1,"border-b","border-gray-50"],[1,"px-10","py-8","text-[10px]","font-black","text-gray-300","uppercase","tracking-widest"],[1,"px-10","py-8","text-right"],[1,"divide-y","divide-gray-50"],["class","hover:bg-gray-50/50 transition-all duration-500 group",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50/50","transition-all","duration-500","group"],[1,"px-10","py-8"],[1,"flex","flex-col"],[1,"text-[11px]","font-black","text-navy","font-mono","tracking-tighter"],[1,"text-xs","font-bold","text-navy","tracking-wide","group-hover:text-gold","transition-colors"],[1,"text-xl","font-black","text-navy","tracking-tighter","group-hover:text-gold","transition-colors"],[1,"px-4","py-2","rounded-xl","text-[9px]","font-black","uppercase","tracking-widest","shadow-2xl",3,"ngClass"],[1,"px-6","py-2","bg-red-50","text-red-500","text-[10px]","font-black","rounded-xl","uppercase","tracking-widest","hover:bg-red-500","hover:text-white","transition-all","opacity-0","group-hover:opacity-100","shadow-sm","hover:shadow-xl","hover:shadow-red-500/20",3,"click"]],template:function(r,o){1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.nrm(3,"div",3),t.j41(4,"p",4),t.EFF(5,"Total Asset Liquidity"),t.k0s(),t.j41(6,"h3",5),t.EFF(7),t.k0s(),t.j41(8,"div",6)(9,"span",7),t.EFF(10,"+15.8% Growth"),t.k0s()()(),t.j41(11,"div",8),t.nrm(12,"div",9),t.j41(13,"p",10),t.EFF(14,"Digital Settlements"),t.k0s(),t.j41(15,"h3",11),t.EFF(16),t.k0s(),t.j41(17,"p",12),t.EFF(18,"85 Automated Transactions"),t.k0s()(),t.j41(19,"div",8)(20,"p",10),t.EFF(21,"On-Site Collections"),t.k0s(),t.j41(22,"h3",11),t.EFF(23),t.k0s(),t.j41(24,"div",13),t.nrm(25,"div",14),t.k0s()(),t.j41(26,"div",15)(27,"p",16),t.EFF(28,"Capital Reversals"),t.k0s(),t.j41(29,"h3",17),t.EFF(30,"$420"),t.k0s(),t.j41(31,"p",18),t.EFF(32,"Critical Risk Threshold: Low "),t.k0s()()(),t.j41(33,"div",19)(34,"div",20),t.nrm(35,"div",21),t.j41(36,"h4",22)(37,"div",23),t.qSk(),t.j41(38,"svg",24),t.nrm(39,"path",25),t.k0s()(),t.EFF(40," Revenue Velocity "),t.k0s(),t.joV(),t.nrm(41,"canvas",26),t.k0s(),t.j41(42,"div",27)(43,"div",28)(44,"div")(45,"h4",29),t.EFF(46,"Audit "),t.j41(47,"span",30),t.EFF(48,"Ledger"),t.k0s()(),t.j41(49,"p",31),t.EFF(50,"Transaction Node Monitoring"),t.k0s()(),t.j41(51,"div",32)(52,"div",33),t.qSk(),t.j41(53,"svg",34),t.nrm(54,"path",35),t.k0s()(),t.joV(),t.nrm(55,"input",36),t.k0s()(),t.j41(56,"div",37)(57,"table",38)(58,"thead")(59,"tr",39)(60,"th",40),t.EFF(61," Transaction Hash"),t.k0s(),t.j41(62,"th",40),t.EFF(63,"Client Path"),t.k0s(),t.j41(64,"th",40),t.EFF(65," Valuation"),t.k0s(),t.j41(66,"th",40),t.EFF(67," Settlement"),t.k0s(),t.nrm(68,"th",41),t.k0s()(),t.j41(69,"tbody",42),t.DNE(70,p,19,11,"tr",43),t.nI1(71,"async"),t.k0s()()()()()()),2&r&&(t.R7$(7),t.SpI("$",o.totalRevenue,""),t.R7$(9),t.SpI("$",o.onlinePayments,""),t.R7$(7),t.SpI("$",o.codPayments,""),t.R7$(2),t.xc7("width",40,"%"),t.R7$(45),t.Y8G("ngForOf",t.bMT(71,6,o.payments$)))},dependencies:[s.YU,s.Sq,s.Jj],styles:["[_nghost-%COMP%]{display:block}.shadow-3xl[_ngcontent-%COMP%]{box-shadow:0 35px 60px -15px #06192d1a}tr[_ngcontent-%COMP%]{transition:all .4s cubic-bezier(.4,0,.2,1)}tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#f7931e03}canvas[_ngcontent-%COMP%]{filter:drop-shadow(0 10px 15px rgba(247,147,30,.1))}"]})}return n})();var u=a(8986),h=a(4341);const x=[{path:"",component:g}];let v=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=t.$C({type:n});static \u0275inj=t.G2t({imports:[s.MD,h.YN,u.iI.forChild(x)]})}return n})()}}]);